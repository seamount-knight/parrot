{% extends '__base__.html' %}
{% block prehead %}
    <script>
        function validForm() {
            var password = $("form [name=password]").val()
            var password2 = $("form [name=password2]").val()
            if (password != password2) {
                return false
            }
            return true
        }

        $(function () {
            $("form [name=password2]").blur(
                function (e) {
                    var password = $("form [name=password]").val();
                    var password2 = $("form [name=password2]").val();
                    if (password != password2) {
                        $(this).attr("title", "密码不一致");
                        $(this).attr("uk-tooltip", "pos: right");
                        UIkit.tooltip(this).show();
                        return false
                    }
                }
            )
        })

    </script>
{% endblock %}
{% block title %}注册{% endblock %}
{% block content %}
<div class="uk-width-2-3">
    <h1>
        欢迎注册
    </h1>
    <form id="registry-form" class="uk-form-stacked" method="post" action="/registry" onsubmit="return validForm()">
        <div class="uk-margin">
            <label class="uk-form-label">名字</label>
            <div class="uk-form-controls">
                <input name="name" class="uk-input" type="text" placeholder="输入名字" pattern="^[a-zA-Z]\w+$" required="required">
            </div>
        </div>
        <div class="uk-margin">
            <label class="uk-form-label">电子邮件</label>
            <div class="uk-form-controls">
                <input name="email" class="uk-input" type="email" placeholder="your-name@example.com"
                       pattern="^[a-z0-9\.\-\_]+\@[a-z0-9\-\_]+(\.[a-z0-9\-\_]+){1,4}$" required="required">
            </div>
        </div>
        <div class="uk-margin">
            <label class="uk-form-label">密码</label>
            <div class="uk-form-controls">
                <input name="password" class="uk-input" type="password" placeholder="输入密码"
                       pattern="^[a-zA-Z\d_]{8,}$" required="required">
            </div>
        </div>
        <div class="uk-margin">
            <label class="uk-form-label">确认密码</label>
            <div class="uk-form-controls">
                <input name="password2" class="uk-input" type="password" placeholder="确认密码"
                       pattern="^[a-zA-Z\d_]{8,}$" required="required">
            </div>
        </div>
        <div class="uk-margin">
            <button type="submit" class="uk-button uk-button-primary"><span uk-icon="icon: user"></span> 注册</button>
        </div>
    </form>
</div>
{% endblock %}